@model IEnumerable<TalepDestekCore.Areas.Admin.Models.UserViewModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
	int count = 0;
}
<br />
<span class="text-uppercase page-subtitle ml-1">Kullanıcılar</span>
<br />

<br />
<form asp-action="Index" method="get">
	<div class="form-actions no-color">
		<p>
			Find by name: <input type="text" name="SearchString" value="@ViewData["CurrentFilter"]" />
			<input type="submit" value="Search" class="btn btn-default" /> |
			<a asp-action="Index">Back to Full List</a>
		</p>
	</div>
</form>
<div class="row">
	<div class="col">
		<div class="card card-small mb-4">
			<div class="card-header border-bottom">
				<h6 class="m-0">Kullanıcılar</h6>
			</div>
			<div class="card-body p-0 pb-2 text-center">
				<table class="table mb-0">
					<thead class="bg-light">
						<tr>
							<th scope="col" class="border-0">#</th>
							<th scope="col" class="border-0">TC No</th>
							<th scope="col" class="border-0">Ad</th>
							<th scope="col" class="border-0">Soyad</th>
							<th scope="col" class="border-0">Cinsiyet</th>
							<th scope="col" class="border-0">Rol</th>
							<th scope="col" class="border-0">E-Posta</th>
							<th scope="col" class="border-0">İşlemler</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							count++;
							<tr>
								<td>@count</td>
								<td>@item.UserName</td>
								<td>@item.Name</td>
								<td>@item.Surname</td>
								<td>@item.Gender</td>
								<td>@item.UserRole</td>
								<td>@item.Email</td>
								<td>@if (item.UserRole == "RequestOfficer")
									{
										<a href="/Admin/User/AssignUnit/@item.UserID" class="btn btn-outline-warning">Birim Ataması Yap</a>
									}
									<a href="/Admin/User/AssignRole/@item.UserID" class="btn btn-outline-info">Rol Değiştir</a>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>


